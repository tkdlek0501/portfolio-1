	<!-- partial:partials/_header.html -->
    <th:block th:replace="/../common/header.html"></th:block>
    <!-- partial -->
    <div class="page-body">
      <!-- partial:partials/_sidebar.html -->
    <th:block th:replace="/../common/sidebar.html"></th:block>
    <!-- partial -->
    
    <style>
    	.fieldError{
    		border: 1px solid red;
    		color: red;
    	}
    	.field-error{
    		color: red;
    	}
    </style>
    
    <div class="page-content-wrapper">
     <div class="page-content-wrapper-inner">
      <div id="content-viewport"> 
        <!-- Begin Page Content -->
        <div class="row">
		 <div class="col-12">		
    			<div class="grid">
    			 <p class="grid-header">상품 상세/ 구매</p>
    			  <div class="grid-body">
                    <div class="item-wrapper">
                      <div class="table-responsive">
						<div>
							<div>
								<h4>상품 주문</h4>
				            	<form th:action th:object="${form}" method="post">
				            		<div th:if="${#fields.hasGlobalErrors()}">
								 		<p class="field-error" th:each="err : ${#fields.globalErrors()}" th:text="${err}">글로벌 오류 메시지</p>
								 	</div>	
				            		<table class="table table-bordered">
				            			<tbody>
				            				<tr>
				            					<th style="width:20%;">구매 옵션 선택</th>
				            					<td>
				            						<div class="rows">
				            							<input th:value="${product.productOption.optionItems}" class="form-control" style="width:20%;background-color:white;font-weight:bold;" type="text" readonly><br>
				            							<select th:field="*{optionId}" class="form-control" style="width:30%;">
				            								<option th:each="opt : ${product.productOption.option}" th:value="${opt.id}" th:text="|${opt.names} (남은 수량 : ${opt.stockQuantity} 개)|"></option>
				            							</select>
				            							<p th:errors="*{optionId}" class="field-error">에러 메시지</p>
				            						</div>
				            					</td>
				            				</tr>
				            				<tr>
				            					<th style="width:20%;">우편 번호</th>
				            					<td>
				            						<div class="rows">
				            							<input th:field="*{zipcode}" class="form-control" type="text">
				            							<p th:errors="*{zipcode}" class="field-error">에러 메시지</p>
				            						</div>
				            					</td>
				            				</tr>
				            				<tr>
				            					<th style="width:20%;">지역명</th>
				            					<td>
				            						<div class="rows">
				            							<input th:field="*{city}" class="form-control" type="text">
				            							<p th:errors="*{city}" class="field-error">에러 메시지</p>
				            						</div>
				            					</td>
				            				</tr>
				            				<tr>
				            					<th style="width:20%;">도로명</th>
				            					<td>
				            						<div class="rows">
				            							<input th:field="*{street}" class="form-control" type="text">
				            							<p th:errors="*{street}" class="field-error">에러 메시지</p>
				            						</div>
				            					</td>
				            				</tr>
				            				<tr>
				            					<th style="width:20%;">개당 주문 가격</th>
				            					<td>
				            						<div class="rows">
				            							<input name="price" th:value="${{product.price}}" class="form-control" type="text" readonly>
				            							<p th:errors="*{price}" class="field-error">에러 메시지</p>
				            						</div>
				            					</td>
				            				</tr>
				            				<tr>
				            					<th style="width:20%;">구입 개수</th>
				            					<td>
				            						<div class="rows">
				            							<input th:field="*{count}" class="form-control" type="number">
				            							<p th:errors="*{count}" class="field-error">에러 메시지</p>
				            						</div>
				            					</td>
				            				</tr>
				            				<tr>
												<th style="width:20%"></th>	
												<td>
													<div class="rows">
														<button type="submit" class="btn">주문하기</button>
													</div>
												</td>
											</tr>
				            			</tbody>
				            		</table>
				            	</form>
								<h4>상품 상세</h4>
								<table class="table table-bordered">
			            			<tbody>
			            				<tr>
			            					<th style="width:20%;">카테고리</th>
			            					<td>
			            						<div class="rows">
			            							<input th:value="${product.category.name}" type="text" class="form-control" readonly>
			            						</div>
			            					</td>
			            				</tr>
			            				<tr>
			            					<th style="width:20%;">이름</th>
			            					<td>
			            						<div class="rows">
			            							<input th:value="${product.name}" type="text" class="form-control" readonly>
			            						</div>
			            					</td>
			            				</tr>
			            				<tr>
			            					<th style="width:20%;">가격</th>
			            					<td>
			            						<div class="rows">
			            							<input th:value="${{product.price}}" type="text" class="form-control" readonly>
			            						</div>
			            					</td>
			            				</tr>
			            				<tr>
			            					<th style="width:20%;">이미지</th>
			            					<td>
			            						<div class="rows">
			            							<div th:each="img, i : ${product.productImage}" style="display:flex;flex-flow:column;">
				            							<img th:src="|/images/${img.storeName}|" width="300" height="300">
				            							<a th:href="|/download/${img.id}|" th:text="|다운로드 : ${img.originalName}|"></a>
			            							</div>
			            						</div>
			            					</td>
			            				</tr>
			            			</tbody>
			            		</table>
							</div>
						</div>
					  </div>
					 </div>	
				   </div>
		  		</div>
		  		<a href="/products" style="width:100px;background:#fff;" class="btn btn-user btn-block">뒤로가기</a>	
         </div>
          <!-- DataTales Example -->
        
       </div>
      </div>
      
      <!-- Footer -->
           <!-- End of Main Content -->
      </div>
      <!-- End of Footer -->
    </div>
    <!-- End of Content Wrapper -->
	
	
	 <!-- Bootstrap core JavaScript-->
  	<script src="../assets/vendors/js/core.js"></script>
  	<script src="../assets/vendors/datatables/jquery.dataTables.min.js"></script>
  	<script src="../assets/vendors/datatables/dataTables.bootstrap4.min.js"></script>
  	<script src="../assets/js/demo/datatables-demo.js"></script>
    <script src="../assets/vendors/apexcharts/apexcharts.min.js"></script>
    <script src="../assets/vendors/chartjs/Chart.min.js"></script>
    <script src="../assets/js/charts/chartjs.addon.js"></script>
    <script src="../assets/js/template.js"></script>
    <script src="../assets/js/dashboard.js"></script>
    <script th:inline="javascript">
    </script>
</body>
</html>